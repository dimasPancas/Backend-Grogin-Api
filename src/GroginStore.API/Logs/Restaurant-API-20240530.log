{"@t":"2024-05-30T03:24:18.6184070Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:18.9723314Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"Cart","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:18.9785075Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Delivery","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:18.9821326Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"TotalAmount","entityType":"Order","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:18.9855326Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"OrderDetail","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:18.9902519Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"PaymentCost","entityType":"Payment","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:18.9952883Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Product","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:19.0001163Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"DiscountValue","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:19.0062306Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"MaxDiscountAmount","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T03:24:22.1763024Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"68","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T03:24:22.6945664Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"26","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T07:24:26.3498156Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5189716Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"Cart","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5299715Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Delivery","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5373752Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"TotalAmount","entityType":"Order","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5448866Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"OrderDetail","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5517522Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"PaymentCost","entityType":"Payment","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5602237Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Product","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5682371Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"DiscountValue","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:26.5764666Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"MaxDiscountAmount","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:24:27.5612196Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"58","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T07:24:28.0009590Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"24","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T07:34:04.8007939Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"32abfa752ca33738d4d4b8b5627a92ce","@sp":"90f2bb86d7547631","elapsed":"198","parameters":"@__request_Email_0='maulia@gmail.com' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserProfile]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Email] = @__request_Email_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d9be446a-dd5e-4f24-824c-33b01120725b","ActionName":"GroginStore.API.Controllers.UserController.UserLogin (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000013","RequestPath":"/api/User/login","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:34:05.5103901Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"32abfa752ca33738d4d4b8b5627a92ce","@sp":"90f2bb86d7547631","elapsed":"19","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d9be446a-dd5e-4f24-824c-33b01120725b","ActionName":"GroginStore.API.Controllers.UserController.UserLogin (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000013","RequestPath":"/api/User/login","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:34:05.6641008Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3500.2574"],"@tr":"32abfa752ca33738d4d4b8b5627a92ce","@sp":"90f2bb86d7547631","RequestMethod":"POST","RequestPath":"/api/User/login","StatusCode":200,"Elapsed":3500.2574,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:35:46.9020736Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["45.1664"],"@tr":"dde6af7fb31855eaf74b571eaaa15c7a","@sp":"a6bd33aa717f45a3","RequestMethod":"GET","RequestPath":"/api/Voucher","StatusCode":401,"Elapsed":45.1664,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:35:58.3635531Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"af71cf7cc7702187d58c4e0ac5648335","@sp":"187e39f880d67763","elapsed":"16","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:35:58.0777618+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000017","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:35:58.4039106Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"af71cf7cc7702187d58c4e0ac5648335","@sp":"187e39f880d67763","elapsed":"9","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:35:58.0777618+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000017","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:35:58.4321514Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"af71cf7cc7702187d58c4e0ac5648335","@sp":"187e39f880d67763","elapsed":"9","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:35:58.0777618+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000017","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:35:58.4862842Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1245.6495"],"@tr":"af71cf7cc7702187d58c4e0ac5648335","@sp":"187e39f880d67763","RequestMethod":"GET","RequestPath":"/api/Voucher","StatusCode":200,"Elapsed":1245.6495,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:36:06.7759201Z","@mt":"Get available voucher for userId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"fc75a4d0e3081453a3a894d5af5d2cd4","@sp":"ae8eb58436c37cb0","SourceContext":"GroginStore.Application.Vouchers.Queries.CustGetVouchersAvailable.CustGetVouchersAvailableQueryHandler","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000019","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:36:06.8739133Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"fc75a4d0e3081453a3a894d5af5d2cd4","@sp":"ae8eb58436c37cb0","elapsed":"26","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000019","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:36:06.9040672Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"fc75a4d0e3081453a3a894d5af5d2cd4","@sp":"ae8eb58436c37cb0","elapsed":"3","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='0'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000019","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:36:06.9251801Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"fc75a4d0e3081453a3a894d5af5d2cd4","@sp":"ae8eb58436c37cb0","elapsed":"3","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000019","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:36:06.9445217Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["209.6652"],"@tr":"fc75a4d0e3081453a3a894d5af5d2cd4","@sp":"ae8eb58436c37cb0","RequestMethod":"GET","RequestPath":"/api/Voucher/available","StatusCode":200,"Elapsed":209.6652,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:37:10.8181379Z","@mt":"Created new voucher","@tr":"793f6854b4ed6aabf9ffb55dead6a569","@sp":"338716fb574cc693","SourceContext":"GroginStore.Application.Vouchers.Command.CreateVoucher.CreateVoucerCommandHandler","ActionId":"3121c342-cdad-4e4f-a781-ef12626b7ef7","ActionName":"GroginStore.API.Controllers.VoucherController.CreateNewVoucher (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000001B","RequestPath":"/api/Voucher/admin","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:37:11.6137894Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"793f6854b4ed6aabf9ffb55dead6a569","@sp":"338716fb574cc693","elapsed":"23","parameters":"@p0='222998f1-7a9a-420e-2b12-08dc807b510d', @p1='2024-05-30T14:37:10.8355845+07:00', @p2=NULL (DbType = Int32), @p3='0' (Nullable = true) (Precision = 18) (Scale = 2), @p4='2024-06-30T07:36:21.6930000Z' (Nullable = true), @p5='True', @p6='0' (Nullable = true) (Precision = 18) (Scale = 2), @p7='0' (Nullable = true), @p8='Free Ongkir-1' (Nullable = false) (Size = 4000), @p9='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Vouchers] ([Id], [CreatedAt], [CurrentRedemptions], [DiscountValue], [ExpiryDate], [IsActive], [MaxDiscountAmount], [MaxRedemptions], [Name], [Type])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3121c342-cdad-4e4f-a781-ef12626b7ef7","ActionName":"GroginStore.API.Controllers.VoucherController.CreateNewVoucher (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000001B","RequestPath":"/api/Voucher/admin","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:37:11.7406000Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["964.4642"],"@tr":"793f6854b4ed6aabf9ffb55dead6a569","@sp":"338716fb574cc693","RequestMethod":"POST","RequestPath":"/api/Voucher/admin","StatusCode":200,"Elapsed":964.4642,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:37:48.8607243Z","@mt":"Created new voucher","@tr":"40f3eefc14470627e51a5a7779d7dac3","@sp":"a6f36e3f691d6d3f","SourceContext":"GroginStore.Application.Vouchers.Command.CreateVoucher.CreateVoucerCommandHandler","ActionId":"3121c342-cdad-4e4f-a781-ef12626b7ef7","ActionName":"GroginStore.API.Controllers.VoucherController.CreateNewVoucher (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000001D","RequestPath":"/api/Voucher/admin","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:37:48.8775953Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"40f3eefc14470627e51a5a7779d7dac3","@sp":"a6f36e3f691d6d3f","elapsed":"5","parameters":"@p0='86b91d7b-f31c-4688-2b13-08dc807b510d', @p1='2024-05-30T14:37:48.8651645+07:00', @p2=NULL (DbType = Int32), @p3='10000' (Nullable = true) (Precision = 18) (Scale = 2), @p4='2024-06-30T07:36:21.6930000Z' (Nullable = true), @p5='True', @p6='0' (Nullable = true) (Precision = 18) (Scale = 2), @p7='10' (Nullable = true), @p8='potongan 10rb' (Nullable = false) (Size = 4000), @p9='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Vouchers] ([Id], [CreatedAt], [CurrentRedemptions], [DiscountValue], [ExpiryDate], [IsActive], [MaxDiscountAmount], [MaxRedemptions], [Name], [Type])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3121c342-cdad-4e4f-a781-ef12626b7ef7","ActionName":"GroginStore.API.Controllers.VoucherController.CreateNewVoucher (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000001D","RequestPath":"/api/Voucher/admin","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:37:48.8881832Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["45.2920"],"@tr":"40f3eefc14470627e51a5a7779d7dac3","@sp":"a6f36e3f691d6d3f","RequestMethod":"POST","RequestPath":"/api/Voucher/admin","StatusCode":200,"Elapsed":45.292,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:39:00.3673571Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"74c02751b1e7470f4a5c229efc67070e","@sp":"e98cd3a98e611022","elapsed":"10","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:39:00.3538104+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000001F","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:39:00.3824076Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"74c02751b1e7470f4a5c229efc67070e","@sp":"e98cd3a98e611022","elapsed":"7","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:39:00.3538104+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000001F","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:39:00.3998946Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"74c02751b1e7470f4a5c229efc67070e","@sp":"e98cd3a98e611022","elapsed":"9","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:39:00.3538104+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000001F","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:39:00.4071744Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["85.2193"],"@tr":"74c02751b1e7470f4a5c229efc67070e","@sp":"e98cd3a98e611022","RequestMethod":"GET","RequestPath":"/api/Voucher","StatusCode":200,"Elapsed":85.2193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:39:09.9194813Z","@mt":"Get available voucher for userId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"2c931a98c06cdb39ad95a1f767009392","@sp":"3d1adf1b11c6f421","SourceContext":"GroginStore.Application.Vouchers.Queries.CustGetVouchersAvailable.CustGetVouchersAvailableQueryHandler","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000021","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:39:09.9817419Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2c931a98c06cdb39ad95a1f767009392","@sp":"3d1adf1b11c6f421","elapsed":"54","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000021","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:39:10.0095403Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2c931a98c06cdb39ad95a1f767009392","@sp":"3d1adf1b11c6f421","elapsed":"3","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='0'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000021","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:39:10.0249842Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2c931a98c06cdb39ad95a1f767009392","@sp":"3d1adf1b11c6f421","elapsed":"3","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000021","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:39:10.0579041Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["140.9153"],"@tr":"2c931a98c06cdb39ad95a1f767009392","@sp":"3d1adf1b11c6f421","RequestMethod":"GET","RequestPath":"/api/Voucher/available","StatusCode":200,"Elapsed":140.9153,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:40:11.9826138Z","@mt":"customer get detail voucher with Id: 222998f1-7a9a-420e-2b12-08dc807b510d","@tr":"9a8758ee0ad76a5e3ecaaa144c187c42","@sp":"4d1774385ca5be8d","SourceContext":"GroginStore.Application.Vouchers.Queries.CustGetDetailVoucherById.CustGetDetailVoucherByIdQueryHandler","ActionId":"341099ec-7e9b-462b-846a-ecec3c398769","ActionName":"GroginStore.API.Controllers.VoucherController.CustGetDetailVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000023","RequestPath":"/api/Voucher/222998f1-7a9a-420e-2b12-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:12.0362625Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"9a8758ee0ad76a5e3ecaaa144c187c42","@sp":"4d1774385ca5be8d","elapsed":"8","parameters":"@__voucherId_0='222998f1-7a9a-420e-2b12-08dc807b510d' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE CONVERT(varchar(36), [v].[Id]) = @__voucherId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"341099ec-7e9b-462b-846a-ecec3c398769","ActionName":"GroginStore.API.Controllers.VoucherController.CustGetDetailVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000023","RequestPath":"/api/Voucher/222998f1-7a9a-420e-2b12-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:12.0603924Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["116.3774"],"@tr":"9a8758ee0ad76a5e3ecaaa144c187c42","@sp":"4d1774385ca5be8d","RequestMethod":"GET","RequestPath":"/api/Voucher/222998f1-7a9a-420e-2b12-08dc807b510d","StatusCode":200,"Elapsed":116.3774,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:40:27.7392555Z","@mt":"Get available voucher for userId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"29c8eb6d04d373cf855bd84135f59ec0","@sp":"eda985f4cdb55a0b","SourceContext":"GroginStore.Application.Vouchers.Queries.CustGetVouchersAvailable.CustGetVouchersAvailableQueryHandler","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000025","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:27.7593879Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"29c8eb6d04d373cf855bd84135f59ec0","@sp":"eda985f4cdb55a0b","elapsed":"15","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000025","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:27.7719844Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"29c8eb6d04d373cf855bd84135f59ec0","@sp":"eda985f4cdb55a0b","elapsed":"2","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='0'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000025","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:27.7847297Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"29c8eb6d04d373cf855bd84135f59ec0","@sp":"eda985f4cdb55a0b","elapsed":"2","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000025","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:27.7949962Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["61.6103"],"@tr":"29c8eb6d04d373cf855bd84135f59ec0","@sp":"eda985f4cdb55a0b","RequestMethod":"GET","RequestPath":"/api/Voucher/available","StatusCode":200,"Elapsed":61.6103,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:40:42.6788078Z","@mt":"User claim voucher with Id: 222998f1-7a9a-420e-2b12-08dc807b510d","@tr":"daeb7d4a9b52af04aea01aa81c835dac","@sp":"9177ad08ef4e9144","SourceContext":"GroginStore.Application.Vouchers.Command.UserClaimVoucher.UserClaimVoucherCommandHandler","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000027","RequestPath":"/api/Voucher/claim/222998f1-7a9a-420e-2b12-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:48.6165729Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"daeb7d4a9b52af04aea01aa81c835dac","@sp":"9177ad08ef4e9144","elapsed":"17","parameters":"@__voucherId_0='222998f1-7a9a-420e-2b12-08dc807b510d' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE CONVERT(varchar(36), [v].[Id]) = @__voucherId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000027","RequestPath":"/api/Voucher/claim/222998f1-7a9a-420e-2b12-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:48.6863191Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"daeb7d4a9b52af04aea01aa81c835dac","@sp":"9177ad08ef4e9144","elapsed":"14","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__voucherId_1='222998f1-7a9a-420e-2b12-08dc807b510d' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [UserVouchers] AS [u]\r\n        WHERE [u].[UserId] = @__userId_0 AND CONVERT(varchar(36), [u].[VoucherId]) = @__voucherId_1) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000027","RequestPath":"/api/Voucher/claim/222998f1-7a9a-420e-2b12-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:48.8760568Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"daeb7d4a9b52af04aea01aa81c835dac","@sp":"9177ad08ef4e9144","elapsed":"15","parameters":"@p0='94b4a29e-3745-460e-c49f-08dc807bd2e4', @p1='2024-05-30T14:40:48.7168627+07:00', @p2='92b0d307-f61f-4704-b5bc-684b0010c252' (Nullable = false) (Size = 450), @p3='222998f1-7a9a-420e-2b12-08dc807b510d'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [UserVouchers] ([Id], [CLaimedAt], [UserId], [VoucherId])\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000027","RequestPath":"/api/Voucher/claim/222998f1-7a9a-420e-2b12-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:48.9403169Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"daeb7d4a9b52af04aea01aa81c835dac","@sp":"9177ad08ef4e9144","elapsed":"12","parameters":"@p1='222998f1-7a9a-420e-2b12-08dc807b510d', @p0='1' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Vouchers] SET [CurrentRedemptions] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000027","RequestPath":"/api/Voucher/claim/222998f1-7a9a-420e-2b12-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:48.9715610Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["6313.7347"],"@tr":"daeb7d4a9b52af04aea01aa81c835dac","@sp":"9177ad08ef4e9144","RequestMethod":"POST","RequestPath":"/api/Voucher/claim/222998f1-7a9a-420e-2b12-08dc807b510d","StatusCode":200,"Elapsed":6313.7347,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:40:56.4909097Z","@mt":"Get available voucher for userId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"f0d56b528d5f0b226198e59723b4ee0b","@sp":"103dcb9a0d31e885","SourceContext":"GroginStore.Application.Vouchers.Queries.CustGetVouchersAvailable.CustGetVouchersAvailableQueryHandler","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000029","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:56.5793468Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0d56b528d5f0b226198e59723b4ee0b","@sp":"103dcb9a0d31e885","elapsed":"78","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000029","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:56.6014008Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0d56b528d5f0b226198e59723b4ee0b","@sp":"103dcb9a0d31e885","elapsed":"3","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='0'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000029","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:56.6238654Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0d56b528d5f0b226198e59723b4ee0b","@sp":"103dcb9a0d31e885","elapsed":"3","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000029","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:40:56.6398708Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["151.5020"],"@tr":"f0d56b528d5f0b226198e59723b4ee0b","@sp":"103dcb9a0d31e885","RequestMethod":"GET","RequestPath":"/api/Voucher/available","StatusCode":200,"Elapsed":151.502,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:41:10.5825725Z","@mt":"User claim voucher with Id: 86b91d7b-f31c-4688-2b13-08dc807b510d","@tr":"d23787eca50d2923be95518875e083ce","@sp":"15cefd76142046f7","SourceContext":"GroginStore.Application.Vouchers.Command.UserClaimVoucher.UserClaimVoucherCommandHandler","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002B","RequestPath":"/api/Voucher/claim/86b91d7b-f31c-4688-2b13-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:16.4531582Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d23787eca50d2923be95518875e083ce","@sp":"15cefd76142046f7","elapsed":"5","parameters":"@__voucherId_0='86b91d7b-f31c-4688-2b13-08dc807b510d' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE CONVERT(varchar(36), [v].[Id]) = @__voucherId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002B","RequestPath":"/api/Voucher/claim/86b91d7b-f31c-4688-2b13-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:16.4938336Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d23787eca50d2923be95518875e083ce","@sp":"15cefd76142046f7","elapsed":"17","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__voucherId_1='86b91d7b-f31c-4688-2b13-08dc807b510d' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [UserVouchers] AS [u]\r\n        WHERE [u].[UserId] = @__userId_0 AND CONVERT(varchar(36), [u].[VoucherId]) = @__voucherId_1) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002B","RequestPath":"/api/Voucher/claim/86b91d7b-f31c-4688-2b13-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:16.5231873Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d23787eca50d2923be95518875e083ce","@sp":"15cefd76142046f7","elapsed":"6","parameters":"@p0='56de3d99-1a1f-4895-c4a0-08dc807bd2e4', @p1='2024-05-30T14:41:16.5134878+07:00', @p2='92b0d307-f61f-4704-b5bc-684b0010c252' (Nullable = false) (Size = 450), @p3='86b91d7b-f31c-4688-2b13-08dc807b510d'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [UserVouchers] ([Id], [CLaimedAt], [UserId], [VoucherId])\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002B","RequestPath":"/api/Voucher/claim/86b91d7b-f31c-4688-2b13-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:16.5494781Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d23787eca50d2923be95518875e083ce","@sp":"15cefd76142046f7","elapsed":"5","parameters":"@p1='86b91d7b-f31c-4688-2b13-08dc807b510d', @p0='1' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Vouchers] SET [CurrentRedemptions] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8854a537-ab5e-4ad1-a1f9-f7df5f692140","ActionName":"GroginStore.API.Controllers.VoucherController.CustClaimVoucherById (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002B","RequestPath":"/api/Voucher/claim/86b91d7b-f31c-4688-2b13-08dc807b510d","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:16.5692524Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5989.7494"],"@tr":"d23787eca50d2923be95518875e083ce","@sp":"15cefd76142046f7","RequestMethod":"POST","RequestPath":"/api/Voucher/claim/86b91d7b-f31c-4688-2b13-08dc807b510d","StatusCode":200,"Elapsed":5989.7494,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:41:23.9266113Z","@mt":"Get available voucher for userId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"e208c44fe3b389e524438d7c20b79c03","@sp":"5f0e9ec89836e31a","SourceContext":"GroginStore.Application.Vouchers.Queries.CustGetVouchersAvailable.CustGetVouchersAvailableQueryHandler","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002D","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:23.9326285Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"e208c44fe3b389e524438d7c20b79c03","@sp":"5f0e9ec89836e31a","elapsed":"2","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='2'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002D","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:23.9623524Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"e208c44fe3b389e524438d7c20b79c03","@sp":"5f0e9ec89836e31a","elapsed":"5","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='0'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002D","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:23.9694619Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"e208c44fe3b389e524438d7c20b79c03","@sp":"5f0e9ec89836e31a","elapsed":"1","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__type_1='1'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE NOT EXISTS (\r\n    SELECT 1\r\n    FROM [UserVouchers] AS [u]\r\n    WHERE [u].[UserId] = @__userId_0 AND [u].[VoucherId] = [v].[Id]) AND [v].[Type] = @__type_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8d4ea809-6964-40fa-ab0a-fb364b8ff5df","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAvailableVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002D","RequestPath":"/api/Voucher/available","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:23.9751468Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["49.4171"],"@tr":"e208c44fe3b389e524438d7c20b79c03","@sp":"5f0e9ec89836e31a","RequestMethod":"GET","RequestPath":"/api/Voucher/available","StatusCode":200,"Elapsed":49.4171,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:41:29.4202251Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2169283a37f83698ee2b039dc7788c22","@sp":"b5f22aac9423ddf7","elapsed":"12","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:41:29.4065852+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002F","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:29.4373775Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2169283a37f83698ee2b039dc7788c22","@sp":"b5f22aac9423ddf7","elapsed":"7","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:41:29.4065852+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002F","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:29.4559945Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2169283a37f83698ee2b039dc7788c22","@sp":"b5f22aac9423ddf7","elapsed":"8","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:41:29.4065852+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000002F","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:29.4757692Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["70.5454"],"@tr":"2169283a37f83698ee2b039dc7788c22","@sp":"b5f22aac9423ddf7","RequestMethod":"GET","RequestPath":"/api/Voucher","StatusCode":200,"Elapsed":70.5454,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:41:46.2620770Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"8bd14db13e743724054fe6b0662eac4a","@sp":"ff1d5bbfeaddd360","elapsed":"23","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:41:46.2360946+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000031","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:46.3018924Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"8bd14db13e743724054fe6b0662eac4a","@sp":"ff1d5bbfeaddd360","elapsed":"22","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:41:46.2360946+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000031","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:46.3336288Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"8bd14db13e743724054fe6b0662eac4a","@sp":"ff1d5bbfeaddd360","elapsed":"14","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:41:46.2360946+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000031","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:41:46.3522567Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["117.7420"],"@tr":"8bd14db13e743724054fe6b0662eac4a","@sp":"ff1d5bbfeaddd360","RequestMethod":"GET","RequestPath":"/api/Voucher","StatusCode":200,"Elapsed":117.742,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:45:19.8408421Z","@mt":"Getting all order ny UserId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"d60ef2abf114e1b7b821bfc34589183a","@sp":"ea8ca1a81cb64f9d","SourceContext":"GroginStore.Application.Orders.Queries.GetAllOrdersByUserId.GetAllOrdersByUserIdQueryHandler","ActionId":"27522f45-d29e-46a4-8222-b996653c9cb1","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000033","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:45:19.9259305Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d60ef2abf114e1b7b821bfc34589183a","@sp":"ea8ca1a81cb64f9d","elapsed":"23","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nWHERE [o].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27522f45-d29e-46a4-8222-b996653c9cb1","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000033","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:45:20.0068506Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["228.6207"],"@tr":"d60ef2abf114e1b7b821bfc34589183a","@sp":"ea8ca1a81cb64f9d","RequestMethod":"GET","RequestPath":"/api/Order","StatusCode":200,"Elapsed":228.6207,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:46:02.2734414Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"940e47a2c21629c4691c99c29cf51f07","@sp":"13042f6e42f3c74a","elapsed":"25","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:46:02.2382350+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000035","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:46:02.3106729Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"940e47a2c21629c4691c99c29cf51f07","@sp":"13042f6e42f3c74a","elapsed":"16","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:46:02.2382350+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000035","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:46:02.3492639Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"940e47a2c21629c4691c99c29cf51f07","@sp":"13042f6e42f3c74a","elapsed":"18","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__currentDateTime_1='2024-05-30T14:46:02.2382350+07:00' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [UserVouchers] AS [u]\r\nINNER JOIN [Vouchers] AS [v] ON [u].[VoucherId] = [v].[Id]\r\nWHERE [u].[UserId] = @__userId_0 AND [v].[IsActive] = CAST(1 AS bit) AND ([v].[ExpiryDate] IS NULL OR [v].[ExpiryDate] > @__currentDateTime_1) AND [v].[Type] = 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"98a25a7a-d155-4575-a959-af9081643584","ActionName":"GroginStore.API.Controllers.VoucherController.CustomerGetAllVouchers (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000035","RequestPath":"/api/Voucher","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:46:02.3696287Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["147.4932"],"@tr":"940e47a2c21629c4691c99c29cf51f07","@sp":"13042f6e42f3c74a","RequestMethod":"GET","RequestPath":"/api/Voucher","StatusCode":200,"Elapsed":147.4932,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:48:19.3341436Z","@mt":"Getting all address with UserId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"129d08d6d14ab679d4063b703b99680c","@sp":"bf8c1d83fecc6d26","SourceContext":"GroginStore.Application.Address.Queries.GetAllAddressByUserId.GetAddressByUserIdQueryHandler","ActionId":"d8d30da0-c6db-4053-8802-c25d3211d888","ActionName":"GroginStore.API.Controllers.AddressController.GetAddressByUserId (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000037","RequestPath":"/api/Address","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:48:19.3625529Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"129d08d6d14ab679d4063b703b99680c","@sp":"bf8c1d83fecc6d26","elapsed":"13","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village]\r\nFROM [Addresses] AS [a]\r\nWHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d8d30da0-c6db-4053-8802-c25d3211d888","ActionName":"GroginStore.API.Controllers.AddressController.GetAddressByUserId (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000037","RequestPath":"/api/Address","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:48:19.4619081Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["146.3254"],"@tr":"129d08d6d14ab679d4063b703b99680c","@sp":"bf8c1d83fecc6d26","RequestMethod":"GET","RequestPath":"/api/Address","StatusCode":200,"Elapsed":146.3254,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:49:24.0681403Z","@mt":"Create new order from product","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","SourceContext":"GroginStore.Application.Orders.Command.CreateOrderFromProduct.CreateOrderFromProductCommandHandler","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:24.1605191Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"33","parameters":"@__id_0='6ECEC863-45BD-4861-DD7B-08DC635EF69B' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserProfile]\r\nFROM [Payments] AS [p]\r\nLEFT JOIN [AspNetUsers] AS [a] ON [p].[UpdatedBy] = [a].[Id]\r\nWHERE CONVERT(varchar(36), [p].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:24.3049753Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"10","parameters":"@__id_0='9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village]\r\nFROM [Addresses] AS [a]\r\nWHERE CONVERT(varchar(36), [a].[Id]) = @__id_0 AND [a].[IsActive] = CAST(1 AS bit)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:24.4067945Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"25","parameters":"@__id_0='079DB772-A3CB-4E0F-9E35-08DC62845BA8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserProfile]\r\nFROM [Deliveries] AS [d]\r\nLEFT JOIN [AspNetUsers] AS [a] ON [d].[UpdatedBy] = [a].[Id]\r\nWHERE CONVERT(varchar(36), [d].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:24.5962230Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"32","parameters":"@__id_0='B51BA057-0177-4649-5711-08DC68E678D8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[Description], [p].[IsActive], [p].[Name], [p].[Price], [p].[ProductImage], [p].[Stock], [p].[UpdatedBy], [p].[UpdatedDate], [c].[Id], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedDate], [c].[IsActive], [c].[Name], [c].[UpdatedBy], [c].[UpdatedDate]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]\r\nWHERE CONVERT(varchar(36), [p].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:24.9245676Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"18","parameters":"@p0='e48c45eb-c288-460c-2600-08dc807d0676', @p1='9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff', @p2='079db772-a3cb-4e0f-9e35-08dc62845ba8', @p3='2024-05-30T14:49:24.7317190+07:00', @p4='1', @p5='6ecec863-45bd-4861-dd7b-08dc635ef69b', @p6=NULL (Size = 4000), @p7='False', @p8='0' (Precision = 18) (Scale = 2), @p9='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Orders] ([Id], [AddresId], [DeliveryId], [OrderDate], [OrderStatus], [PaymentId], [PaymentVerificationCode], [PaymentVerified], [TotalAmount], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:24.9409097Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"6","parameters":"@__voucherId_0='222998f1-7a9a-420e-2b12-08dc807b510d' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE CONVERT(varchar(36), [v].[Id]) = @__voucherId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:24.9978943Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"10","parameters":"@p0='e48c45eb-c288-460c-2600-08dc807d0676', @p1='222998f1-7a9a-420e-2b12-08dc807b510d'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [OrderVouchers] ([OrderId], [VoucherId])\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.0259744Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"9","parameters":"@__voucherId_0='222998f1-7a9a-420e-2b12-08dc807b510d' (Size = 4000), @__userId_1='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CLaimedAt], [u].[UserId], [u].[VoucherId]\r\nFROM [UserVouchers] AS [u]\r\nWHERE CONVERT(varchar(36), [u].[VoucherId]) = @__voucherId_0 AND [u].[UserId] = @__userId_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.0585299Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"4","parameters":"@p0='94b4a29e-3745-460e-c49f-08dc807bd2e4'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nDELETE FROM [UserVouchers]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.0928400Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"2","parameters":"@__voucherId_0='86b91d7b-f31c-4688-2b13-08dc807b510d' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\nFROM [Vouchers] AS [v]\r\nWHERE CONVERT(varchar(36), [v].[Id]) = @__voucherId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.1053723Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"2","parameters":"@p0='e48c45eb-c288-460c-2600-08dc807d0676', @p1='86b91d7b-f31c-4688-2b13-08dc807b510d'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [OrderVouchers] ([OrderId], [VoucherId])\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.1135148Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"1","parameters":"@__voucherId_0='86b91d7b-f31c-4688-2b13-08dc807b510d' (Size = 4000), @__userId_1='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CLaimedAt], [u].[UserId], [u].[VoucherId]\r\nFROM [UserVouchers] AS [u]\r\nWHERE CONVERT(varchar(36), [u].[VoucherId]) = @__voucherId_0 AND [u].[UserId] = @__userId_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.1252016Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"2","parameters":"@p0='56de3d99-1a1f-4895-c4a0-08dc807bd2e4'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nDELETE FROM [UserVouchers]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.1447726Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"6","parameters":"@p1='e48c45eb-c288-460c-2600-08dc807d0676', @p0='58000.00' (Precision = 18) (Scale = 2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Orders] SET [TotalAmount] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.1955068Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","elapsed":"5","parameters":"@p0='e3a04fa0-9379-4edf-4207-08dc807d06b6', @p1='e48c45eb-c288-460c-2600-08dc807d0676', @p2='b51ba057-0177-4649-5711-08dc68e678d8', @p3='10', @p4='65000.00' (Precision = 18) (Scale = 2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [OrderDetails] ([Id], [OrderId], [ProductId], [Quantity], [Subtotal])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"090fa898-1164-49b6-b115-5aa777f4d578","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40F65DVTA7:00000039","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:25.2043681Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1274.6047"],"@tr":"c69f551f93fd7fe513a6ea0faaec4cbe","@sp":"5b81dc11baa6372a","RequestMethod":"POST","RequestPath":"/api/Order","StatusCode":200,"Elapsed":1274.6047,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:49:37.5334766Z","@mt":"Getting all order ny UserId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"6385de2c2fd1a935fe2ce3b763391aa3","@sp":"5f960adba02cc503","SourceContext":"GroginStore.Application.Orders.Queries.GetAllOrdersByUserId.GetAllOrdersByUserIdQueryHandler","ActionId":"27522f45-d29e-46a4-8222-b996653c9cb1","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000003B","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:37.5452316Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6385de2c2fd1a935fe2ce3b763391aa3","@sp":"5f960adba02cc503","elapsed":"7","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nWHERE [o].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27522f45-d29e-46a4-8222-b996653c9cb1","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000003B","RequestPath":"/api/Order","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:49:37.5595434Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["28.1472"],"@tr":"6385de2c2fd1a935fe2ce3b763391aa3","@sp":"5f960adba02cc503","RequestMethod":"GET","RequestPath":"/api/Order","StatusCode":200,"Elapsed":28.1472,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:52:17.2413953Z","@mt":"Get Detail Order with id: e48c45eb-c288-460c-2600-08dc807d0676","@tr":"f98ecae1cee471d05c70bf70308c8168","@sp":"f085d3c51a48c62c","SourceContext":"GroginStore.Application.Orders.Queries.GetDetailOrderById.GetDetailOrderByIdQueryHandler","ActionId":"304fe321-bac0-48a1-8d80-c05395cff188","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000003D","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:52:17.6657334Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f98ecae1cee471d05c70bf70308c8168","@sp":"f085d3c51a48c62c","elapsed":"146","parameters":"@__id_0='e48c45eb-c288-460c-2600-08dc807d0676' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[OrderId], [t].[ProductId], [t].[Quantity], [t].[Subtotal], [t].[Id0], [t].[CategoryId], [t].[CreatedBy], [t].[CreatedDate], [t].[DeletedDate], [t].[Description], [t].[IsActive], [t].[Name], [t].[Price], [t].[ProductImage], [t].[Stock], [t].[UpdatedBy], [t].[UpdatedDate], [t].[Id1], [t].[CreatedBy0], [t].[CreatedDate0], [t].[DeletedDate0], [t].[IsActive0], [t].[Name0], [t].[UpdatedBy0], [t].[UpdatedDate0], [t].[Id2], [t].[CommentDate], [t].[CommentImg], [t].[CommentText], [t].[OrderDetailId], [t].[ProductId0], [t].[Rating], [t].[UserId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[IsActive], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[UserProfile]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Payments] AS [p] ON [o].[PaymentId] = [p].[Id]\r\nINNER JOIN [Addresses] AS [a] ON [o].[AddresId] = [a].[Id]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nLEFT JOIN [AspNetUsers] AS [a0] ON [o].[UserId] = [a0].[Id]\r\nLEFT JOIN (\r\n    SELECT [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [p0].[Id] AS [Id0], [p0].[CategoryId], [p0].[CreatedBy], [p0].[CreatedDate], [p0].[DeletedDate], [p0].[Description], [p0].[IsActive], [p0].[Name], [p0].[Price], [p0].[ProductImage], [p0].[Stock], [p0].[UpdatedBy], [p0].[UpdatedDate], [c].[Id] AS [Id1], [c].[CreatedBy] AS [CreatedBy0], [c].[CreatedDate] AS [CreatedDate0], [c].[DeletedDate] AS [DeletedDate0], [c].[IsActive] AS [IsActive0], [c].[Name] AS [Name0], [c].[UpdatedBy] AS [UpdatedBy0], [c].[UpdatedDate] AS [UpdatedDate0], [c0].[Id] AS [Id2], [c0].[CommentDate], [c0].[CommentImg], [c0].[CommentText], [c0].[OrderDetailId], [c0].[ProductId] AS [ProductId0], [c0].[Rating], [c0].[UserId]\r\n    FROM [OrderDetails] AS [o0]\r\n    INNER JOIN [Products] AS [p0] ON [o0].[ProductId] = [p0].[Id]\r\n    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]\r\n    LEFT JOIN [Comments] AS [c0] ON [o0].[Id] = [c0].[OrderDetailId]\r\n) AS [t] ON [o].[Id] = [t].[OrderId]\r\nWHERE CONVERT(varchar(36), [o].[Id]) = @__id_0\r\nORDER BY [o].[Id], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[Id0], [t].[Id1]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"304fe321-bac0-48a1-8d80-c05395cff188","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40F65DVTA7:0000003D","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40F65DVTA7"}
{"@t":"2024-05-30T07:52:17.8115568Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["623.1824"],"@tr":"f98ecae1cee471d05c70bf70308c8168","@sp":"f085d3c51a48c62c","RequestMethod":"GET","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","StatusCode":200,"Elapsed":623.1824,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:59:16.3792587Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6105827Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"Cart","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6146109Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Delivery","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6270843Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"TotalAmount","entityType":"Order","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6314572Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"OrderDetail","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6366001Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"PaymentCost","entityType":"Payment","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6407067Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Product","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6440528Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"DiscountValue","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:16.6478925Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"MaxDiscountAmount","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T07:59:18.0578574Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"56","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T07:59:18.7193276Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"17","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T07:59:37.4668653Z","@mt":"Getting all order ny UserId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"b35ca377842239f57341f2b4e2909af0","@sp":"7c4c74733e5e4b5e","SourceContext":"GroginStore.Application.Orders.Queries.GetAllOrdersByUserId.GetAllOrdersByUserIdQueryHandler","ActionId":"329badf8-e71a-48aa-bf79-5b5e87e833c3","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40FPKLCUTR:00000009","RequestPath":"/api/Order","ConnectionId":"0HN40FPKLCUTR"}
{"@t":"2024-05-30T07:59:38.3692755Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"b35ca377842239f57341f2b4e2909af0","@sp":"7c4c74733e5e4b5e","elapsed":"168","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nWHERE [o].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"329badf8-e71a-48aa-bf79-5b5e87e833c3","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40FPKLCUTR:00000009","RequestPath":"/api/Order","ConnectionId":"0HN40FPKLCUTR"}
{"@t":"2024-05-30T07:59:39.0908776Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2587.7313"],"@tr":"b35ca377842239f57341f2b4e2909af0","@sp":"7c4c74733e5e4b5e","RequestMethod":"GET","RequestPath":"/api/Order","StatusCode":200,"Elapsed":2587.7313,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T07:59:54.5001647Z","@mt":"Get Detail Order with id: e48c45eb-c288-460c-2600-08dc807d0676","@tr":"2fcdde6207f9fa698dca5ea7e060c130","@sp":"75a3770b38fe7e23","SourceContext":"GroginStore.Application.Orders.Queries.GetDetailOrderById.GetDetailOrderByIdQueryHandler","ActionId":"0ce27cd6-32d2-4f60-ada0-014d080e095f","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FPKLCUTR:0000000B","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FPKLCUTR"}
{"@t":"2024-05-30T07:59:54.8101367Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"2fcdde6207f9fa698dca5ea7e060c130","@sp":"75a3770b38fe7e23","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0ce27cd6-32d2-4f60-ada0-014d080e095f","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FPKLCUTR:0000000B","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FPKLCUTR"}
{"@t":"2024-05-30T07:59:54.9242811Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2fcdde6207f9fa698dca5ea7e060c130","@sp":"75a3770b38fe7e23","elapsed":"74","parameters":"@__id_0='e48c45eb-c288-460c-2600-08dc807d0676' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[OrderId], [t].[ProductId], [t].[Quantity], [t].[Subtotal], [t].[Id0], [t].[CategoryId], [t].[CreatedBy], [t].[CreatedDate], [t].[DeletedDate], [t].[Description], [t].[IsActive], [t].[Name], [t].[Price], [t].[ProductImage], [t].[Stock], [t].[UpdatedBy], [t].[UpdatedDate], [t].[Id1], [t].[CreatedBy0], [t].[CreatedDate0], [t].[DeletedDate0], [t].[IsActive0], [t].[Name0], [t].[UpdatedBy0], [t].[UpdatedDate0], [t].[Id2], [t].[CommentDate], [t].[CommentImg], [t].[CommentText], [t].[OrderDetailId], [t].[ProductId0], [t].[Rating], [t].[UserId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[IsActive], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[UserProfile], [o1].[OrderId], [o1].[VoucherId]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Payments] AS [p] ON [o].[PaymentId] = [p].[Id]\r\nINNER JOIN [Addresses] AS [a] ON [o].[AddresId] = [a].[Id]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nLEFT JOIN [AspNetUsers] AS [a0] ON [o].[UserId] = [a0].[Id]\r\nLEFT JOIN (\r\n    SELECT [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [p0].[Id] AS [Id0], [p0].[CategoryId], [p0].[CreatedBy], [p0].[CreatedDate], [p0].[DeletedDate], [p0].[Description], [p0].[IsActive], [p0].[Name], [p0].[Price], [p0].[ProductImage], [p0].[Stock], [p0].[UpdatedBy], [p0].[UpdatedDate], [c].[Id] AS [Id1], [c].[CreatedBy] AS [CreatedBy0], [c].[CreatedDate] AS [CreatedDate0], [c].[DeletedDate] AS [DeletedDate0], [c].[IsActive] AS [IsActive0], [c].[Name] AS [Name0], [c].[UpdatedBy] AS [UpdatedBy0], [c].[UpdatedDate] AS [UpdatedDate0], [c0].[Id] AS [Id2], [c0].[CommentDate], [c0].[CommentImg], [c0].[CommentText], [c0].[OrderDetailId], [c0].[ProductId] AS [ProductId0], [c0].[Rating], [c0].[UserId]\r\n    FROM [OrderDetails] AS [o0]\r\n    INNER JOIN [Products] AS [p0] ON [o0].[ProductId] = [p0].[Id]\r\n    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]\r\n    LEFT JOIN [Comments] AS [c0] ON [o0].[Id] = [c0].[OrderDetailId]\r\n) AS [t] ON [o].[Id] = [t].[OrderId]\r\nLEFT JOIN [OrderVouchers] AS [o1] ON [o].[Id] = [o1].[OrderId]\r\nWHERE CONVERT(varchar(36), [o].[Id]) = @__id_0\r\nORDER BY [o].[Id], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [o1].[OrderId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0ce27cd6-32d2-4f60-ada0-014d080e095f","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FPKLCUTR:0000000B","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FPKLCUTR"}
{"@t":"2024-05-30T07:59:55.3753522Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["891.6483"],"@tr":"2fcdde6207f9fa698dca5ea7e060c130","@sp":"75a3770b38fe7e23","RequestMethod":"GET","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","StatusCode":200,"Elapsed":891.6483,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:03:30.9382714Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1288078Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"Cart","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1376442Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Delivery","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1457188Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"TotalAmount","entityType":"Order","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1541875Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"OrderDetail","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1619487Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"PaymentCost","entityType":"Payment","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1693643Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Product","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1767990Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"DiscountValue","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:31.1851239Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"MaxDiscountAmount","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:03:32.4328261Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"62","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T08:03:32.9652226Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"28","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T08:04:00.7967242Z","@mt":"Getting all order ny UserId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"27bb13c57aa82b8ef8c5bb4feddc6c9f","@sp":"252a38a77acce7d5","SourceContext":"GroginStore.Application.Orders.Queries.GetAllOrdersByUserId.GetAllOrdersByUserIdQueryHandler","ActionId":"a6f8f165-7969-4c33-a68f-543be30dd610","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000009","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:04:01.8059179Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"27bb13c57aa82b8ef8c5bb4feddc6c9f","@sp":"252a38a77acce7d5","elapsed":"163","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nWHERE [o].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6f8f165-7969-4c33-a68f-543be30dd610","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000009","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:04:02.4077388Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2972.0783"],"@tr":"27bb13c57aa82b8ef8c5bb4feddc6c9f","@sp":"252a38a77acce7d5","RequestMethod":"GET","RequestPath":"/api/Order","StatusCode":200,"Elapsed":2972.0783,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:04:15.8777121Z","@mt":"Get Detail Order with id: e48c45eb-c288-460c-2600-08dc807d0676","@tr":"69d5806f1e7b365e81a4e5d740934039","@sp":"7c02b6a4783b1154","SourceContext":"GroginStore.Application.Orders.Queries.GetDetailOrderById.GetDetailOrderByIdQueryHandler","ActionId":"e463c22a-7994-4226-87fc-4bf3d3db33a3","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000B","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:04:16.2685030Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"69d5806f1e7b365e81a4e5d740934039","@sp":"7c02b6a4783b1154","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e463c22a-7994-4226-87fc-4bf3d3db33a3","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000B","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:04:16.5325220Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"69d5806f1e7b365e81a4e5d740934039","@sp":"7c02b6a4783b1154","elapsed":"166","parameters":"@__id_0='e48c45eb-c288-460c-2600-08dc807d0676' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[OrderId], [t].[ProductId], [t].[Quantity], [t].[Subtotal], [t].[Id0], [t].[CategoryId], [t].[CreatedBy], [t].[CreatedDate], [t].[DeletedDate], [t].[Description], [t].[IsActive], [t].[Name], [t].[Price], [t].[ProductImage], [t].[Stock], [t].[UpdatedBy], [t].[UpdatedDate], [t].[Id1], [t].[CreatedBy0], [t].[CreatedDate0], [t].[DeletedDate0], [t].[IsActive0], [t].[Name0], [t].[UpdatedBy0], [t].[UpdatedDate0], [t].[Id2], [t].[CommentDate], [t].[CommentImg], [t].[CommentText], [t].[OrderDetailId], [t].[ProductId0], [t].[Rating], [t].[UserId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[IsActive], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[UserProfile], [t0].[OrderId], [t0].[VoucherId], [t0].[Id], [t0].[CreatedAt], [t0].[CurrentRedemptions], [t0].[DiscountValue], [t0].[ExpiryDate], [t0].[IsActive], [t0].[MaxDiscountAmount], [t0].[MaxRedemptions], [t0].[Name], [t0].[Type]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Payments] AS [p] ON [o].[PaymentId] = [p].[Id]\r\nINNER JOIN [Addresses] AS [a] ON [o].[AddresId] = [a].[Id]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nLEFT JOIN [AspNetUsers] AS [a0] ON [o].[UserId] = [a0].[Id]\r\nLEFT JOIN (\r\n    SELECT [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [p0].[Id] AS [Id0], [p0].[CategoryId], [p0].[CreatedBy], [p0].[CreatedDate], [p0].[DeletedDate], [p0].[Description], [p0].[IsActive], [p0].[Name], [p0].[Price], [p0].[ProductImage], [p0].[Stock], [p0].[UpdatedBy], [p0].[UpdatedDate], [c].[Id] AS [Id1], [c].[CreatedBy] AS [CreatedBy0], [c].[CreatedDate] AS [CreatedDate0], [c].[DeletedDate] AS [DeletedDate0], [c].[IsActive] AS [IsActive0], [c].[Name] AS [Name0], [c].[UpdatedBy] AS [UpdatedBy0], [c].[UpdatedDate] AS [UpdatedDate0], [c0].[Id] AS [Id2], [c0].[CommentDate], [c0].[CommentImg], [c0].[CommentText], [c0].[OrderDetailId], [c0].[ProductId] AS [ProductId0], [c0].[Rating], [c0].[UserId]\r\n    FROM [OrderDetails] AS [o0]\r\n    INNER JOIN [Products] AS [p0] ON [o0].[ProductId] = [p0].[Id]\r\n    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]\r\n    LEFT JOIN [Comments] AS [c0] ON [o0].[Id] = [c0].[OrderDetailId]\r\n) AS [t] ON [o].[Id] = [t].[OrderId]\r\nLEFT JOIN (\r\n    SELECT [o1].[OrderId], [o1].[VoucherId], [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\n    FROM [OrderVouchers] AS [o1]\r\n    INNER JOIN [Vouchers] AS [v] ON [o1].[VoucherId] = [v].[Id]\r\n) AS [t0] ON [o].[Id] = [t0].[OrderId]\r\nWHERE CONVERT(varchar(36), [o].[Id]) = @__id_0\r\nORDER BY [o].[Id], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[OrderId], [t0].[VoucherId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e463c22a-7994-4226-87fc-4bf3d3db33a3","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000B","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:04:17.2488934Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1405.1883"],"@tr":"69d5806f1e7b365e81a4e5d740934039","@sp":"7c02b6a4783b1154","RequestMethod":"GET","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","StatusCode":200,"Elapsed":1405.1883,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:05:18.8188017Z","@mt":"Getting all address with UserId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"1dc442e2c2a48b53ed36a3fc6cd4868a","@sp":"9f263792f88fd848","SourceContext":"GroginStore.Application.Address.Queries.GetAllAddressByUserId.GetAddressByUserIdQueryHandler","ActionId":"106f7b1d-e5aa-4cd5-9f15-69336396d03e","ActionName":"GroginStore.API.Controllers.AddressController.GetAddressByUserId (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000D","RequestPath":"/api/Address","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:05:18.8691921Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1dc442e2c2a48b53ed36a3fc6cd4868a","@sp":"9f263792f88fd848","elapsed":"13","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village]\r\nFROM [Addresses] AS [a]\r\nWHERE [a].[IsActive] = CAST(1 AS bit) AND [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"106f7b1d-e5aa-4cd5-9f15-69336396d03e","ActionName":"GroginStore.API.Controllers.AddressController.GetAddressByUserId (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000D","RequestPath":"/api/Address","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:05:18.8980990Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["117.3254"],"@tr":"1dc442e2c2a48b53ed36a3fc6cd4868a","@sp":"9f263792f88fd848","RequestMethod":"GET","RequestPath":"/api/Address","StatusCode":200,"Elapsed":117.3254,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:05:56.7904276Z","@mt":"Create new order from product","@tr":"38f186008b3e2ad6200ee6333a941730","@sp":"fba3a60928a6be19","SourceContext":"GroginStore.Application.Orders.Command.CreateOrderFromProduct.CreateOrderFromProductCommandHandler","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000F","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:05:56.8465213Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"38f186008b3e2ad6200ee6333a941730","@sp":"fba3a60928a6be19","elapsed":"15","parameters":"@__id_0='6ECEC863-45BD-4861-DD7B-08DC635EF69B' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserProfile]\r\nFROM [Payments] AS [p]\r\nLEFT JOIN [AspNetUsers] AS [a] ON [p].[UpdatedBy] = [a].[Id]\r\nWHERE CONVERT(varchar(36), [p].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000F","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:05:56.8847589Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"38f186008b3e2ad6200ee6333a941730","@sp":"fba3a60928a6be19","elapsed":"8","parameters":"@__id_0='9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village]\r\nFROM [Addresses] AS [a]\r\nWHERE CONVERT(varchar(36), [a].[Id]) = @__id_0 AND [a].[IsActive] = CAST(1 AS bit)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000F","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:05:56.9401540Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"38f186008b3e2ad6200ee6333a941730","@sp":"fba3a60928a6be19","elapsed":"11","parameters":"@__id_0='9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserProfile]\r\nFROM [Deliveries] AS [d]\r\nLEFT JOIN [AspNetUsers] AS [a] ON [d].[UpdatedBy] = [a].[Id]\r\nWHERE CONVERT(varchar(36), [d].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:0000000F","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:05:57.4665738Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["794.8134"],"@l":"Error","@x":"GroginStore.Domain.Exceptions.NotFoundException: Delivery with id 9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff doesn't exist\r\n   at GroginStore.Application.Orders.Command.CreateOrderFromProduct.CreateOrderFromProductCommandHandler.Handle(CreateOrderFromProductCommand request, CancellationToken cancellationToken) in D:\\GroginStore\\Backend\\GroginStore\\GroginStore.Application\\Orders\\Command\\CreateOrderFromProduct\\CreateOrderFromProductCommandHandler.cs:line 63\r\n   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at GroginStore.API.Controllers.OrderController.CreateOrderFromProduct(CreateOrderFromProductCommand data, String voucherFreeShippingId, String voucherDiscountId) in D:\\GroginStore\\Backend\\GroginStore\\GroginStore.API\\Controllers\\OrderController.cs:line 73\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"38f186008b3e2ad6200ee6333a941730","@sp":"fba3a60928a6be19","RequestMethod":"POST","RequestPath":"/api/Order","StatusCode":500,"Elapsed":794.8134,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:05:57.6012448Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"GroginStore.Domain.Exceptions.NotFoundException: Delivery with id 9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff doesn't exist\r\n   at GroginStore.Application.Orders.Command.CreateOrderFromProduct.CreateOrderFromProductCommandHandler.Handle(CreateOrderFromProductCommand request, CancellationToken cancellationToken) in D:\\GroginStore\\Backend\\GroginStore\\GroginStore.Application\\Orders\\Command\\CreateOrderFromProduct\\CreateOrderFromProductCommandHandler.cs:line 63\r\n   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at GroginStore.API.Controllers.OrderController.CreateOrderFromProduct(CreateOrderFromProductCommand data, String voucherFreeShippingId, String voucherDiscountId) in D:\\GroginStore\\Backend\\GroginStore\\GroginStore.API\\Controllers\\OrderController.cs:line 73\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"38f186008b3e2ad6200ee6333a941730","@sp":"fba3a60928a6be19","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN40FS0BP0QT:0000000F","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:10.5083704Z","@mt":"Create new order from product","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","SourceContext":"GroginStore.Application.Orders.Command.CreateOrderFromProduct.CreateOrderFromProductCommandHandler","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:10.5554021Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","elapsed":"27","parameters":"@__id_0='6ECEC863-45BD-4861-DD7B-08DC635EF69B' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserProfile]\r\nFROM [Payments] AS [p]\r\nLEFT JOIN [AspNetUsers] AS [a] ON [p].[UpdatedBy] = [a].[Id]\r\nWHERE CONVERT(varchar(36), [p].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:10.5841984Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","elapsed":"10","parameters":"@__id_0='9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village]\r\nFROM [Addresses] AS [a]\r\nWHERE CONVERT(varchar(36), [a].[Id]) = @__id_0 AND [a].[IsActive] = CAST(1 AS bit)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:10.6193522Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","elapsed":"16","parameters":"@__id_0='079DB772-A3CB-4E0F-9E35-08DC62845BA8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserProfile]\r\nFROM [Deliveries] AS [d]\r\nLEFT JOIN [AspNetUsers] AS [a] ON [d].[UpdatedBy] = [a].[Id]\r\nWHERE CONVERT(varchar(36), [d].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:10.7079396Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","elapsed":"21","parameters":"@__id_0='DD813E10-39EA-41B3-5710-08DC68E678D8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[Description], [p].[IsActive], [p].[Name], [p].[Price], [p].[ProductImage], [p].[Stock], [p].[UpdatedBy], [p].[UpdatedDate], [c].[Id], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedDate], [c].[IsActive], [c].[Name], [c].[UpdatedBy], [c].[UpdatedDate]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]\r\nWHERE CONVERT(varchar(36), [p].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:11.4918457Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","elapsed":"34","parameters":"@p0='644d8bca-649f-475e-99b0-08dc807f81e8', @p1='9fe1cdb5-b4c3-45c6-dbdc-08dc7888c5ff', @p2='079db772-a3cb-4e0f-9e35-08dc62845ba8', @p3='2024-05-30T15:07:10.7292709+07:00', @p4='1', @p5='6ecec863-45bd-4861-dd7b-08dc635ef69b', @p6=NULL (Size = 4000), @p7='False', @p8='0' (Precision = 18) (Scale = 2), @p9='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Orders] ([Id], [AddresId], [DeliveryId], [OrderDate], [OrderStatus], [PaymentId], [PaymentVerificationCode], [PaymentVerified], [TotalAmount], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:11.6431673Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","elapsed":"12","parameters":"@p1='644d8bca-649f-475e-99b0-08dc807f81e8', @p0='52500.00' (Precision = 18) (Scale = 2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Orders] SET [TotalAmount] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:11.7202185Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","elapsed":"13","parameters":"@p0='97c216ae-4ef9-4230-874a-08dc807f8268', @p1='644d8bca-649f-475e-99b0-08dc807f81e8', @p2='dd813e10-39ea-41b3-5710-08dc68e678d8', @p3='2', @p4='33000.00' (Precision = 18) (Scale = 2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [OrderDetails] ([Id], [OrderId], [ProductId], [Quantity], [Subtotal])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab1073e6-2b30-4759-930f-203366b4a1a6","ActionName":"GroginStore.API.Controllers.OrderController.CreateOrderFromProduct (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000011","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:11.7446973Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1267.3700"],"@tr":"f0e8759743996231fdee82ab7872d35e","@sp":"06809a7a61877c97","RequestMethod":"POST","RequestPath":"/api/Order","StatusCode":200,"Elapsed":1267.37,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:07:18.4186868Z","@mt":"Getting all order ny UserId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"5bc4faa7d87b87701dec744552282db9","@sp":"57155e682e70955b","SourceContext":"GroginStore.Application.Orders.Queries.GetAllOrdersByUserId.GetAllOrdersByUserIdQueryHandler","ActionId":"a6f8f165-7969-4c33-a68f-543be30dd610","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000013","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:18.4309313Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5bc4faa7d87b87701dec744552282db9","@sp":"57155e682e70955b","elapsed":"7","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nWHERE [o].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6f8f165-7969-4c33-a68f-543be30dd610","ActionName":"GroginStore.API.Controllers.OrderController.GetALlOrdersByUserId (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000013","RequestPath":"/api/Order","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:18.4439835Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["27.7357"],"@tr":"5bc4faa7d87b87701dec744552282db9","@sp":"57155e682e70955b","RequestMethod":"GET","RequestPath":"/api/Order","StatusCode":200,"Elapsed":27.7357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:07:40.4464160Z","@mt":"Get Detail Order with id: 644d8bca-649f-475e-99b0-08dc807f81e8","@tr":"3331d2e2317b9fa0034bc1cd631b16cd","@sp":"2a787a960763063f","SourceContext":"GroginStore.Application.Orders.Queries.GetDetailOrderById.GetDetailOrderByIdQueryHandler","ActionId":"e463c22a-7994-4226-87fc-4bf3d3db33a3","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000015","RequestPath":"/api/Order/644d8bca-649f-475e-99b0-08dc807f81e8","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:40.6520291Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"3331d2e2317b9fa0034bc1cd631b16cd","@sp":"2a787a960763063f","elapsed":"193","parameters":"@__id_0='644d8bca-649f-475e-99b0-08dc807f81e8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[OrderId], [t].[ProductId], [t].[Quantity], [t].[Subtotal], [t].[Id0], [t].[CategoryId], [t].[CreatedBy], [t].[CreatedDate], [t].[DeletedDate], [t].[Description], [t].[IsActive], [t].[Name], [t].[Price], [t].[ProductImage], [t].[Stock], [t].[UpdatedBy], [t].[UpdatedDate], [t].[Id1], [t].[CreatedBy0], [t].[CreatedDate0], [t].[DeletedDate0], [t].[IsActive0], [t].[Name0], [t].[UpdatedBy0], [t].[UpdatedDate0], [t].[Id2], [t].[CommentDate], [t].[CommentImg], [t].[CommentText], [t].[OrderDetailId], [t].[ProductId0], [t].[Rating], [t].[UserId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[IsActive], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[UserProfile], [t0].[OrderId], [t0].[VoucherId], [t0].[Id], [t0].[CreatedAt], [t0].[CurrentRedemptions], [t0].[DiscountValue], [t0].[ExpiryDate], [t0].[IsActive], [t0].[MaxDiscountAmount], [t0].[MaxRedemptions], [t0].[Name], [t0].[Type]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Payments] AS [p] ON [o].[PaymentId] = [p].[Id]\r\nINNER JOIN [Addresses] AS [a] ON [o].[AddresId] = [a].[Id]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nLEFT JOIN [AspNetUsers] AS [a0] ON [o].[UserId] = [a0].[Id]\r\nLEFT JOIN (\r\n    SELECT [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [p0].[Id] AS [Id0], [p0].[CategoryId], [p0].[CreatedBy], [p0].[CreatedDate], [p0].[DeletedDate], [p0].[Description], [p0].[IsActive], [p0].[Name], [p0].[Price], [p0].[ProductImage], [p0].[Stock], [p0].[UpdatedBy], [p0].[UpdatedDate], [c].[Id] AS [Id1], [c].[CreatedBy] AS [CreatedBy0], [c].[CreatedDate] AS [CreatedDate0], [c].[DeletedDate] AS [DeletedDate0], [c].[IsActive] AS [IsActive0], [c].[Name] AS [Name0], [c].[UpdatedBy] AS [UpdatedBy0], [c].[UpdatedDate] AS [UpdatedDate0], [c0].[Id] AS [Id2], [c0].[CommentDate], [c0].[CommentImg], [c0].[CommentText], [c0].[OrderDetailId], [c0].[ProductId] AS [ProductId0], [c0].[Rating], [c0].[UserId]\r\n    FROM [OrderDetails] AS [o0]\r\n    INNER JOIN [Products] AS [p0] ON [o0].[ProductId] = [p0].[Id]\r\n    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]\r\n    LEFT JOIN [Comments] AS [c0] ON [o0].[Id] = [c0].[OrderDetailId]\r\n) AS [t] ON [o].[Id] = [t].[OrderId]\r\nLEFT JOIN (\r\n    SELECT [o1].[OrderId], [o1].[VoucherId], [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\n    FROM [OrderVouchers] AS [o1]\r\n    INNER JOIN [Vouchers] AS [v] ON [o1].[VoucherId] = [v].[Id]\r\n) AS [t0] ON [o].[Id] = [t0].[OrderId]\r\nWHERE CONVERT(varchar(36), [o].[Id]) = @__id_0\r\nORDER BY [o].[Id], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[OrderId], [t0].[VoucherId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e463c22a-7994-4226-87fc-4bf3d3db33a3","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000015","RequestPath":"/api/Order/644d8bca-649f-475e-99b0-08dc807f81e8","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:07:40.6749270Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["232.0046"],"@tr":"3331d2e2317b9fa0034bc1cd631b16cd","@sp":"2a787a960763063f","RequestMethod":"GET","RequestPath":"/api/Order/644d8bca-649f-475e-99b0-08dc807f81e8","StatusCode":200,"Elapsed":232.0046,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:08:34.6779816Z","@mt":"Get Detail Order with id: e48c45eb-c288-460c-2600-08dc807d0676","@tr":"86924121a88fbc2fe80f4ba8ce377a8c","@sp":"1a6c4e36a4c163d9","SourceContext":"GroginStore.Application.Orders.Queries.GetDetailOrderById.GetDetailOrderByIdQueryHandler","ActionId":"e463c22a-7994-4226-87fc-4bf3d3db33a3","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000017","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:08:34.8348376Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"86924121a88fbc2fe80f4ba8ce377a8c","@sp":"1a6c4e36a4c163d9","elapsed":"89","parameters":"@__id_0='e48c45eb-c288-460c-2600-08dc807d0676' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [o].[Id], [o].[AddresId], [o].[DeliveryId], [o].[OrderDate], [o].[OrderStatus], [o].[PaymentId], [o].[PaymentVerificationCode], [o].[PaymentVerified], [o].[TotalAmount], [o].[UserId], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[OrderId], [t].[ProductId], [t].[Quantity], [t].[Subtotal], [t].[Id0], [t].[CategoryId], [t].[CreatedBy], [t].[CreatedDate], [t].[DeletedDate], [t].[Description], [t].[IsActive], [t].[Name], [t].[Price], [t].[ProductImage], [t].[Stock], [t].[UpdatedBy], [t].[UpdatedDate], [t].[Id1], [t].[CreatedBy0], [t].[CreatedDate0], [t].[DeletedDate0], [t].[IsActive0], [t].[Name0], [t].[UpdatedBy0], [t].[UpdatedDate0], [t].[Id2], [t].[CommentDate], [t].[CommentImg], [t].[CommentText], [t].[OrderDetailId], [t].[ProductId0], [t].[Rating], [t].[UserId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[IsActive], [p].[Name], [p].[PaymentCost], [p].[UpdatedBy], [p].[UpdatedDate], [a].[City], [a].[CreatedDate], [a].[DeletedDate], [a].[IsActive], [a].[PostalCode], [a].[Province], [a].[Street], [a].[UpdatedDate], [a].[UserId], [a].[Village], [d].[CreatedBy], [d].[CreatedDate], [d].[DeletedDate], [d].[IsActive], [d].[Name], [d].[Price], [d].[UpdatedBy], [d].[UpdatedDate], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[IsActive], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[UserProfile], [t0].[OrderId], [t0].[VoucherId], [t0].[Id], [t0].[CreatedAt], [t0].[CurrentRedemptions], [t0].[DiscountValue], [t0].[ExpiryDate], [t0].[IsActive], [t0].[MaxDiscountAmount], [t0].[MaxRedemptions], [t0].[Name], [t0].[Type]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Payments] AS [p] ON [o].[PaymentId] = [p].[Id]\r\nINNER JOIN [Addresses] AS [a] ON [o].[AddresId] = [a].[Id]\r\nINNER JOIN [Deliveries] AS [d] ON [o].[DeliveryId] = [d].[Id]\r\nLEFT JOIN [AspNetUsers] AS [a0] ON [o].[UserId] = [a0].[Id]\r\nLEFT JOIN (\r\n    SELECT [o0].[Id], [o0].[OrderId], [o0].[ProductId], [o0].[Quantity], [o0].[Subtotal], [p0].[Id] AS [Id0], [p0].[CategoryId], [p0].[CreatedBy], [p0].[CreatedDate], [p0].[DeletedDate], [p0].[Description], [p0].[IsActive], [p0].[Name], [p0].[Price], [p0].[ProductImage], [p0].[Stock], [p0].[UpdatedBy], [p0].[UpdatedDate], [c].[Id] AS [Id1], [c].[CreatedBy] AS [CreatedBy0], [c].[CreatedDate] AS [CreatedDate0], [c].[DeletedDate] AS [DeletedDate0], [c].[IsActive] AS [IsActive0], [c].[Name] AS [Name0], [c].[UpdatedBy] AS [UpdatedBy0], [c].[UpdatedDate] AS [UpdatedDate0], [c0].[Id] AS [Id2], [c0].[CommentDate], [c0].[CommentImg], [c0].[CommentText], [c0].[OrderDetailId], [c0].[ProductId] AS [ProductId0], [c0].[Rating], [c0].[UserId]\r\n    FROM [OrderDetails] AS [o0]\r\n    INNER JOIN [Products] AS [p0] ON [o0].[ProductId] = [p0].[Id]\r\n    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]\r\n    LEFT JOIN [Comments] AS [c0] ON [o0].[Id] = [c0].[OrderDetailId]\r\n) AS [t] ON [o].[Id] = [t].[OrderId]\r\nLEFT JOIN (\r\n    SELECT [o1].[OrderId], [o1].[VoucherId], [v].[Id], [v].[CreatedAt], [v].[CurrentRedemptions], [v].[DiscountValue], [v].[ExpiryDate], [v].[IsActive], [v].[MaxDiscountAmount], [v].[MaxRedemptions], [v].[Name], [v].[Type]\r\n    FROM [OrderVouchers] AS [o1]\r\n    INNER JOIN [Vouchers] AS [v] ON [o1].[VoucherId] = [v].[Id]\r\n) AS [t0] ON [o].[Id] = [t0].[OrderId]\r\nWHERE CONVERT(varchar(36), [o].[Id]) = @__id_0\r\nORDER BY [o].[Id], [p].[Id], [a].[Id], [d].[Id], [a0].[Id], [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t0].[OrderId], [t0].[VoucherId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e463c22a-7994-4226-87fc-4bf3d3db33a3","ActionName":"GroginStore.API.Controllers.OrderController.GetDetailOrderById (GroginStore.API)","RequestId":"0HN40FS0BP0QT:00000017","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","ConnectionId":"0HN40FS0BP0QT"}
{"@t":"2024-05-30T08:08:34.8500289Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["202.3019"],"@tr":"86924121a88fbc2fe80f4ba8ce377a8c","@sp":"1a6c4e36a4c163d9","RequestMethod":"GET","RequestPath":"/api/Order/e48c45eb-c288-460c-2600-08dc807d0676","StatusCode":200,"Elapsed":202.3019,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:09:01.8766117Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.2656400Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"Cart","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.2816594Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Delivery","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.2945964Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"TotalAmount","entityType":"Order","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.3068921Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Subtotal","entityType":"OrderDetail","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.3195737Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"PaymentCost","entityType":"Payment","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.3324203Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Product","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.3436532Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"DiscountValue","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:02.3566582Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"MaxDiscountAmount","entityType":"Voucher","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2024-05-30T08:09:04.0380752Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"109","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T08:09:04.8034434Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"26","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2024-05-30T08:09:49.2064584Z","@mt":"Adding to cart with userId:92b0d307-f61f-4704-b5bc-684b0010c252 and productId: B51BA057-0177-4649-5711-08DC68E678D8","@tr":"57ea9dc74b4c4a5b395580f41f812306","@sp":"206628cef2802067","SourceContext":"GroginStore.Application.Carts.Command.CreateCart.CreateCartCommandHandler","ActionId":"321fe017-75a1-411c-97c0-ef2b14b87881","ActionName":"GroginStore.API.Controllers.CartController.AddToCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:00000009","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:09:49.8679089Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"57ea9dc74b4c4a5b395580f41f812306","@sp":"206628cef2802067","elapsed":"70","parameters":"@__id_0='B51BA057-0177-4649-5711-08DC68E678D8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[Description], [p].[IsActive], [p].[Name], [p].[Price], [p].[ProductImage], [p].[Stock], [p].[UpdatedBy], [p].[UpdatedDate], [c].[Id], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedDate], [c].[IsActive], [c].[Name], [c].[UpdatedBy], [c].[UpdatedDate]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]\r\nWHERE CONVERT(varchar(36), [p].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"321fe017-75a1-411c-97c0-ef2b14b87881","ActionName":"GroginStore.API.Controllers.CartController.AddToCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:00000009","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:09:50.1832141Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"57ea9dc74b4c4a5b395580f41f812306","@sp":"206628cef2802067","elapsed":"9","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__productId_1='B51BA057-0177-4649-5711-08DC68E678D8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [c].[Id], [c].[ProductId], [c].[Quantity], [c].[Subtotal], [c].[UserId]\r\nFROM [Carts] AS [c]\r\nWHERE [c].[UserId] = @__userId_0 AND CONVERT(varchar(36), [c].[ProductId]) = @__productId_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"321fe017-75a1-411c-97c0-ef2b14b87881","ActionName":"GroginStore.API.Controllers.CartController.AddToCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:00000009","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:09:50.5547855Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"57ea9dc74b4c4a5b395580f41f812306","@sp":"206628cef2802067","elapsed":"13","parameters":"@p0='20be1b98-9a25-4886-61dc-08dc807fe0ec', @p1='b51ba057-0177-4649-5711-08dc68e678d8', @p2='23', @p3='149500.00' (Precision = 18) (Scale = 2), @p4='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Carts] ([Id], [ProductId], [Quantity], [Subtotal], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"321fe017-75a1-411c-97c0-ef2b14b87881","ActionName":"GroginStore.API.Controllers.CartController.AddToCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:00000009","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:09:50.5991473Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"57ea9dc74b4c4a5b395580f41f812306","@sp":"206628cef2802067","elapsed":"6","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450), @__productId_1='B51BA057-0177-4649-5711-08DC68E678D8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [c].[Id], [c].[ProductId], [c].[Quantity], [c].[Subtotal], [c].[UserId]\r\nFROM [Carts] AS [c]\r\nWHERE [c].[UserId] = @__userId_0 AND CONVERT(varchar(36), [c].[ProductId]) = @__productId_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"321fe017-75a1-411c-97c0-ef2b14b87881","ActionName":"GroginStore.API.Controllers.CartController.AddToCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:00000009","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:09:50.6599418Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2504.0393"],"@tr":"57ea9dc74b4c4a5b395580f41f812306","@sp":"206628cef2802067","RequestMethod":"POST","RequestPath":"/api/Cart","StatusCode":200,"Elapsed":2504.0393,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:10:01.0330622Z","@mt":"Getting all cart for userId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"738af1d364c628dedcbb71547941fe1d","@sp":"d770f7937a4074e2","SourceContext":"GroginStore.Application.Carts.Queries.GetItemsCartByUserId.GetItemsCartByUserIdQueryHandler","ActionId":"313b6372-cbad-4fd6-8203-a5d32ad0b019","ActionName":"GroginStore.API.Controllers.CartController.GetCartItemsByUserId (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000B","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:01.1603075Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"738af1d364c628dedcbb71547941fe1d","@sp":"d770f7937a4074e2","elapsed":"9","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[ProductId], [c].[Quantity], [c].[Subtotal], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[Description], [p].[IsActive], [p].[Name], [p].[Price], [p].[ProductImage], [p].[Stock], [p].[UpdatedBy], [p].[UpdatedDate]\r\nFROM [Carts] AS [c]\r\nINNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]\r\nWHERE [c].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"313b6372-cbad-4fd6-8203-a5d32ad0b019","ActionName":"GroginStore.API.Controllers.CartController.GetCartItemsByUserId (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000B","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:01.2105875Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["245.6555"],"@tr":"738af1d364c628dedcbb71547941fe1d","@sp":"d770f7937a4074e2","RequestMethod":"GET","RequestPath":"/api/Cart","StatusCode":200,"Elapsed":245.6555,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:10:35.5736571Z","@mt":"Updating quantity Cart to 0 with CartId:20be1b98-9a25-4886-61dc-08dc807fe0ec","@tr":"02c5e77cbf5eba7dfe6a9428d6c4d5cf","@sp":"989fdff2af36a331","SourceContext":"GroginStore.Application.Carts.Command.UpdateCart.UpdateCartCommandHandler","ActionId":"fca99121-3133-4a6b-88fd-75fd58198bcb","ActionName":"GroginStore.API.Controllers.CartController.UpdateQuantityCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000D","RequestPath":"/api/Cart/20be1b98-9a25-4886-61dc-08dc807fe0ec","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:35.6157835Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"02c5e77cbf5eba7dfe6a9428d6c4d5cf","@sp":"989fdff2af36a331","elapsed":"16","parameters":"@__id_0='20be1b98-9a25-4886-61dc-08dc807fe0ec' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [c].[Id], [c].[ProductId], [c].[Quantity], [c].[Subtotal], [c].[UserId]\r\nFROM [Carts] AS [c]\r\nWHERE CONVERT(varchar(36), [c].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fca99121-3133-4a6b-88fd-75fd58198bcb","ActionName":"GroginStore.API.Controllers.CartController.UpdateQuantityCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000D","RequestPath":"/api/Cart/20be1b98-9a25-4886-61dc-08dc807fe0ec","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:35.6529685Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"02c5e77cbf5eba7dfe6a9428d6c4d5cf","@sp":"989fdff2af36a331","elapsed":"17","parameters":"@__id_0='b51ba057-0177-4649-5711-08dc68e678d8' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[Description], [p].[IsActive], [p].[Name], [p].[Price], [p].[ProductImage], [p].[Stock], [p].[UpdatedBy], [p].[UpdatedDate], [c].[Id], [c].[CreatedBy], [c].[CreatedDate], [c].[DeletedDate], [c].[IsActive], [c].[Name], [c].[UpdatedBy], [c].[UpdatedDate]\r\nFROM [Products] AS [p]\r\nINNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]\r\nWHERE CONVERT(varchar(36), [p].[Id]) = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fca99121-3133-4a6b-88fd-75fd58198bcb","ActionName":"GroginStore.API.Controllers.CartController.UpdateQuantityCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000D","RequestPath":"/api/Cart/20be1b98-9a25-4886-61dc-08dc807fe0ec","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:35.7302954Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"02c5e77cbf5eba7dfe6a9428d6c4d5cf","@sp":"989fdff2af36a331","elapsed":"17","parameters":"@p0='20be1b98-9a25-4886-61dc-08dc807fe0ec'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nDELETE FROM [Carts]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fca99121-3133-4a6b-88fd-75fd58198bcb","ActionName":"GroginStore.API.Controllers.CartController.UpdateQuantityCart (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000D","RequestPath":"/api/Cart/20be1b98-9a25-4886-61dc-08dc807fe0ec","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:35.7757731Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["369.4345"],"@tr":"02c5e77cbf5eba7dfe6a9428d6c4d5cf","@sp":"989fdff2af36a331","RequestMethod":"PUT","RequestPath":"/api/Cart/20be1b98-9a25-4886-61dc-08dc807fe0ec","StatusCode":200,"Elapsed":369.4345,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2024-05-30T08:10:43.4715624Z","@mt":"Getting all cart for userId: 92b0d307-f61f-4704-b5bc-684b0010c252","@tr":"fb38fd57c1be838bd613d3f66be1f898","@sp":"a4e6d4711f2e10c9","SourceContext":"GroginStore.Application.Carts.Queries.GetItemsCartByUserId.GetItemsCartByUserIdQueryHandler","ActionId":"313b6372-cbad-4fd6-8203-a5d32ad0b019","ActionName":"GroginStore.API.Controllers.CartController.GetCartItemsByUserId (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000F","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:43.4999125Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"fb38fd57c1be838bd613d3f66be1f898","@sp":"a4e6d4711f2e10c9","elapsed":"14","parameters":"@__userId_0='92b0d307-f61f-4704-b5bc-684b0010c252' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [c].[Id], [c].[ProductId], [c].[Quantity], [c].[Subtotal], [c].[UserId], [p].[Id], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedDate], [p].[DeletedDate], [p].[Description], [p].[IsActive], [p].[Name], [p].[Price], [p].[ProductImage], [p].[Stock], [p].[UpdatedBy], [p].[UpdatedDate]\r\nFROM [Carts] AS [c]\r\nINNER JOIN [Products] AS [p] ON [c].[ProductId] = [p].[Id]\r\nWHERE [c].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"313b6372-cbad-4fd6-8203-a5d32ad0b019","ActionName":"GroginStore.API.Controllers.CartController.GetCartItemsByUserId (GroginStore.API)","RequestId":"0HN40FV3A6I1L:0000000F","RequestPath":"/api/Cart","ConnectionId":"0HN40FV3A6I1L"}
{"@t":"2024-05-30T08:10:43.5354509Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["76.4601"],"@tr":"fb38fd57c1be838bd613d3f66be1f898","@sp":"a4e6d4711f2e10c9","RequestMethod":"GET","RequestPath":"/api/Cart","StatusCode":200,"Elapsed":76.4601,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
